<div id="content">
  <div class="row">
    <sa-big-breadcrumbs [items]="['Ordenes']" icon="shopping-cart"
      class="col-xs-10 col-sm-7 col-md-7 col-lg-4"></sa-big-breadcrumbs>
  </div>  
  
  <sa-widgets-grid>
    
      <div class="row">
        <article class="col-sm-12">

          <sa-widget color="darken">
            <div>
              <div class="widget-body no-padding">
                <sa-datatable [options]="options" [dtTrigger]="dtTrigger" 
                  [paginationLength]="true" tableClass="table table-striped table-bordered table-hover">                  
                  <thead>
                    <tr>
                      <th class="hasinput" style="width:10%">
                        <input type="text" class="form-control" placeholder="Buscar ID">
                      </th>
                      <th class="hasinput icon-addon">
                        <input id="dateselect_filter" type="text" placeholder="Buscar Fecha"
                               class="form-control datepicker" data-dateformat="yy/mm/dd">
                        <label for="dateselect_filter" class="glyphicon glyphicon-calendar no-margin padding-top-15"
                               rel="tooltip" title="" data-original-title="Purchase Date"></label>
                      </th>
                      <th class="hasinput" style="width:10%">
                        <input type="text" class="form-control" placeholder="Buscar DNI">
                      </th>
                      <th class="hasinput">
                        <input type="text" class="form-control" placeholder="Buscar Tipo de Linea">
                      </th>
                      <th class="hasinput" style="width:10%">
                        <input type="text" class="form-control" placeholder="Buscar Servicio">
                      </th>
                      <th class="hasinput" style="width:10%">
                        <input type="text" class="form-control" placeholder="Buscar Planes">
                      </th>
                      <th class="hasinput" style="width:8%">
                        <input type="text" class="form-control" placeholder="Buscar Sucursales">
                      </th>
                      <th class="hasinput" style="width:8%">
                        <input type="text" class="form-control" placeholder="Buscar Estado">
                      </th>
                      <th class="hasinput" style="width:8%">
                        <input type="text" class="form-control" placeholder="Buscar Precio">
                      </th>
                      <th class="hasinput" style="width:10%">
                        <input type="text" class="form-control" placeholder="Buscar Evaluación">
                      </th>
                    </tr>
                    <tr>
                      <th data-class="expand">Pedido</th>
                      <th data-hide="phone,tablet">Fecha</th>
                      <th data-hide="phone,tablet">Cliente / DNI</th>
                      <th data-hide="phone,tablet">Tipo de Linea</th>
                      <th data-hide="phone,tablet">Servicio</th>
                      <th data-hide="phone,tablet">Planes</th>
                      <th data-hide="phone,tablet">Sucursales</th>
                      <th data-hide="phone,tablet">Estado</th>
                      <th data-hide="phone,tablet">Total</th>
                      <th data-hide="phone,tablet">Evaluación crediticia</th>
                    </tr>
                  </thead>
                  <tbody *ngIf="itemsObs | async as items; else loading">
                    <ng-container *ngFor="let item of items; let last = last" 
                      sa-cond-trigger [cond]="last ? true : false" [trigger]="dtTrigger">
                      <tr>
                        <td id="{{ item.orderId }}">
                          <a href="#" class="clic-icon"><span class="fa fa-eye"></span> {{ item.orderId }}</a>
                        </td>
                        <td>{{ item.purchase }}</td>
                        <td>{{ item.customerId }}</td>
                        <td>{{ item.tipoLinea }}</td>
                        <td>{{ item.servicio }}</td>
                        <td>{{ item.planes }}</td>
                        <td>{{ item.sucursales }}</td>
                        <td>{{ item.status }}</td>
                        <td>{{ item.basePrice }}</td>
                        <td>{{ item.evaluacion }}</td>
                      </tr>
                      <sa-dt-detalle [data]="item" [type]="dcomp" [trigger]="item._id" [cols]="10"></sa-dt-detalle>
                    </ng-container>                    
                  </tbody>
                  <ng-template #loading>
                    <tr class="odd">
                      <td valign="top" colspan="10" class="dataTables_empty">
                        {{ loadingStatus }}
                      </td>
                    </tr>
                  </ng-template>
                </sa-datatable>

              </div>
            </div>
          </sa-widget>
        
        </article>
    </div>

  </sa-widgets-grid>

</div>